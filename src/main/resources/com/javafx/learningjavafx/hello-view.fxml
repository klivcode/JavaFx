<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>

<AnchorPane prefHeight="760.0" prefWidth="1100.0" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1">

    <children>

        <!-- Header -->
        <HBox prefHeight="60.0" spacing="15" style="-fx-background-color:#2C3E50;" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
            <children>
                <ImageView fitHeight="40.0" fitWidth="40.0" layoutX="15" layoutY="10">
                    <image>
                        <Image url="@../../../assets/demo.jpg" />
                    </image>
                </ImageView>
                <Label alignment="TOP_LEFT" style="-fx-text-fill:white; -fx-font-size:20; -fx-font-weight:bold;" text="Library Management Dashboard">
               <opaqueInsets>
                  <Insets />
               </opaqueInsets></Label>
                <Region HBox.hgrow="ALWAYS" />
                <Label prefHeight="28.0" prefWidth="43.0" style="-fx-text-fill:white; -fx-font-size:14;" text="Admin" />
                <Button style="-fx-background-color:#E74C3C; -fx-text-fill:white; -fx-font-weight:bold;" text="Logout" />
            </children>
            <padding>
                <Insets bottom="10" left="20" right="20" top="10" />
            </padding>
        </HBox>

        <!-- Main Content Wrapper -->
        <VBox spacing="10" AnchorPane.bottomAnchor="10" AnchorPane.leftAnchor="10" AnchorPane.rightAnchor="10" AnchorPane.topAnchor="70">

            <!-- Stats Section -->
            <HBox spacing="15">
                <children>
                    <VBox prefWidth="250" spacing="5" style="-fx-background-color:#1ABC9C; -fx-padding:15; -fx-background-radius:10;">
                        <children>
                            <Label style="-fx-text-fill:white; -fx-font-weight:bold;" text="Total Books" />
                            <Label style="-fx-text-fill:white; -fx-font-size:28;" text="3200" />
                            <ProgressBar prefWidth="220" progress="0.85" />
                            <Label style="-fx-text-fill:white; -fx-font-size:10;" text="Updated Today" />
                        </children>
                    </VBox>

                    <VBox prefWidth="250" spacing="5" style="-fx-background-color:#3498DB; -fx-padding:15; -fx-background-radius:10;">
                        <children>
                            <Label style="-fx-text-fill:white; -fx-font-weight:bold;" text="Active Members" />
                            <Label style="-fx-text-fill:white; -fx-font-size:28;" text="512" />
                            <ProgressBar prefWidth="220" progress="0.60" />
                            <Label style="-fx-text-fill:white; -fx-font-size:10;" text="This Month" />
                        </children>
                    </VBox>

                    <VBox prefWidth="250" spacing="5" style="-fx-background-color:#9B59B6; -fx-padding:15; -fx-background-radius:10;">
                        <children>
                            <Label style="-fx-text-fill:white; -fx-font-weight:bold;" text="Borrowed Books" />
                            <Label style="-fx-text-fill:white; -fx-font-size:28;" text="1420" />
                            <ProgressBar prefWidth="220" progress="0.45" />
                            <Label style="-fx-text-fill:white; -fx-font-size:10;" text="Active Loans" />
                        </children>
                    </VBox>

                    <VBox prefWidth="250" spacing="5" style="-fx-background-color:#E67E22; -fx-padding:15; -fx-background-radius:10;">
                        <children>
                            <Label style="-fx-text-fill:white; -fx-font-weight:bold;" text="Late Returns" />
                            <Label style="-fx-text-fill:white; -fx-font-size:28;" text="37" />
                            <ProgressBar prefWidth="220" progress="0.25" />
                            <Label style="-fx-text-fill:white; -fx-font-size:10;" text="Current Week" />
                        </children>
                    </VBox>
                </children>
            </HBox>

            <!-- Separator -->
            <Rectangle height="1" style="-fx-fill:#BDC3C7;" width="1080" />

            <!-- Table Section -->
            <VBox spacing="10">
                <children>
                    <Label style="-fx-font-size:16; -fx-font-weight:bold; -fx-text-fill:#2C3E50;" text="Recent Borrowed Books" />
                    <TableView prefHeight="260" prefWidth="1080">
                        <columns>
                            <TableColumn prefWidth="120" text="Book ID" />
                            <TableColumn prefWidth="280" text="Title" />
                            <TableColumn prefWidth="200" text="Author" />
                            <TableColumn prefWidth="200" text="Borrower" />
                            <TableColumn prefWidth="140" text="Date Borrowed" />
                            <TableColumn prefWidth="140" text="Due Date" />
                        </columns>
                    </TableView>
                </children>
            </VBox>

            <!-- Separator -->
            <Rectangle height="1" style="-fx-fill:#BDC3C7;" width="1080" />

            <!-- Add New Book Form -->
            <VBox spacing="10">
                <children>
                    <Label style="-fx-font-size:16; -fx-font-weight:bold; -fx-text-fill:#2C3E50;" text="Add New Book" />

                    <GridPane hgap="12" vgap="12">
                        <children>
                            <Label text="Book Title:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                            <TextField prefWidth="300" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                            <Label text="Author:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                            <TextField prefWidth="300" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                            <Label text="Category:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                            <ComboBox prefWidth="300" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                            <Label text="ISBN:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                            <TextField prefWidth="300" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                            <Label text="Copies Available:" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                            <Spinner prefWidth="300" GridPane.columnIndex="1" GridPane.rowIndex="4" />

                            <Button prefWidth="120" style="-fx-background-color:#27AE60; -fx-text-fill:white; -fx-font-weight:bold;" text="Add Book" GridPane.columnIndex="1" GridPane.rowIndex="5" />
                        </children>
                  <columnConstraints>
                     <ColumnConstraints />
                     <ColumnConstraints />
                  </columnConstraints>
                  <rowConstraints>
                     <RowConstraints />
                     <RowConstraints />
                     <RowConstraints />
                     <RowConstraints />
                     <RowConstraints />
                     <RowConstraints />
                  </rowConstraints>
                    </GridPane>
                </children>
            </VBox>

            <!-- Separator -->
            <Rectangle height="1" style="-fx-fill:#BDC3C7;" width="1080" />

            <!-- Summary Charts Section -->
            <HBox spacing="20">
                <children>
                    <VBox prefWidth="500" spacing="10">
                        <children>
                            <Label style="-fx-font-size:16; -fx-font-weight:bold; -fx-text-fill:#2C3E50;" text="Books Distribution" />
                            <PieChart prefHeight="300" prefWidth="500" />
                        </children>
                    </VBox>

                    <VBox prefWidth="500" spacing="10">
                        <children>
                            <Label style="-fx-font-size:16; -fx-font-weight:bold; -fx-text-fill:#2C3E50;" text="Top Categories" />
                            <ListView prefHeight="300" prefWidth="500" />
                        </children>
                    </VBox>
                </children>
            </HBox>

            <!-- Footer -->
            <HBox alignment="CENTER" prefHeight="30" style="-fx-background-color:#2C3E50;">
                <children>
                    <Label style="-fx-text-fill:white; -fx-font-size:12;" text="Â© 2025 Library Management System" />
                </children>
            </HBox>
        </VBox>
    </children>
</AnchorPane>
